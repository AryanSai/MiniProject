<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <title>Glossary</title>
  </head>

  <body>
    <center>
      <h1 id="word"></h1>
      <p id="meaning"></p>
    </center>

    <script>
      let dictionary;
      window.onload = () => {
        fetch("http://0.0.0.0:8000/Dictonary.json")
          .then((response) => {
            if (!response.ok) {
              throw new Error(
                `Failed to fetch Dictionary JSON: ${response.statusText}`
              );
            }
            return response.json();
          })
          .then((data) => {
            dictionary = data;
            const word = decodeURIComponent(window.location.hash.substring(1));
            const meaning = getMeaning(word);

            if (meaning) {
              document.getElementById(
                "meaning"
              ).textContent = `Meaning: ${meaning}`;
              document.getElementById("word").textContent = `${word}`;
            } else {
              meaningText.textContent = `Meaning not found for "${word}"`;
            }
          })
          .catch((error) => {
            console.error(
              "Error fetching or processing Dictionary JSON:",
              error.message
            );
            meaningText.textContent =
              "An error occurred while fetching the data.";
          });
      };

      function getMeaning(word) {
        if (dictionary && dictionary.words) {
          const wordObj = dictionary.words.find(
            (wordObj) => wordObj.word === word
          );
          return wordObj ? wordObj.meaning : `Meaning not found for "${word}"`;
        } else {
          return "Dictionary not available";
        }
      }
    </script>
  </body>
</html>
